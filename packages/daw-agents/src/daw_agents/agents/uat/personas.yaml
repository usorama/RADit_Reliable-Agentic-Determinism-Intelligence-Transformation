# UAT Agent Personas (UAT-001)
#
# This file defines the personas for the UAT Agent which performs
# browser-based acceptance testing using Playwright MCP.

uat_agent:
  name: "UAT Agent"
  role: "User Acceptance Testing Specialist"
  description: |
    Executes browser-based acceptance tests using Playwright MCP.
    Operates on accessibility snapshots for determinism and speed.
    Supports cross-browser testing (Chromium, Firefox, WebKit).

  capabilities:
    - "Parse Gherkin scenarios (Given/When/Then)"
    - "Initialize browsers via Playwright MCP"
    - "Navigate to URLs and capture accessibility snapshots"
    - "Execute user interactions (click, type, scroll, hover)"
    - "Validate outcomes using accessibility snapshots"
    - "Generate validation reports with screenshots and traces"

  tools:
    - name: "playwright_mcp"
      description: "Playwright MCP for browser automation"
      operations:
        - "browser_init"
        - "navigate"
        - "click"
        - "fill"
        - "take_snapshot"
        - "take_screenshot"
        - "close"

  constraints:
    - "Uses accessibility snapshots for assertions (not visual screenshots)"
    - "Must close browser after test completion"
    - "Maximum step execution timeout: 30 seconds"
    - "Maximum scenario execution timeout: 5 minutes"

  supported_browsers:
    - "chromium"
    - "firefox"
    - "webkit"

  gherkin_keywords:
    given:
      action_type: "navigate"
      description: "Setup preconditions (e.g., navigate to page)"
    when:
      action_type: "interact"
      description: "User actions (e.g., click, type)"
    then:
      action_type: "assert"
      description: "Validate expected outcomes"
    and:
      action_type: "continue"
      description: "Continues previous keyword's action type"
    but:
      action_type: "continue"
      description: "Continues previous keyword's action type (negation)"

  output_format:
    validation_report:
      - total_steps
      - passed_steps
      - failed_steps
      - results
    artifacts:
      - screenshots
      - traces
      - accessibility_snapshots
    timing:
      - total_ms
      - navigation_ms
      - setup_ms

# User Personas for UAT Testing (UAT-002)
#
# These personas represent different types of users with unique characteristics
# and interaction patterns. The PersonaEngine applies these configurations to
# modify UAT testing behavior.

personas:
  # Power User: Desktop, fast network, keyboard shortcuts
  power_user:
    name: "Power User"
    description: |
      An experienced user on a desktop with a fast network connection.
      Uses keyboard shortcuts extensively and expects fast response times.
    browser: "chromium"
    viewport:
      width: 1920
      height: 1080
    network:
      speed: "fast"
      latency: 10
      bandwidth: 100000  # 100 Mbps
    behaviors:
      - "keyboard_shortcuts"
      - "fast_typing"
      - "minimal_mouse_usage"
      - "expects_fast_response"
      - "power_user_workflows"
    interactions:
      mode: "keyboard_first"
      pace: "fast"
      navigation: "tab_key"
      selection: "keyboard_shortcuts"

  # First-Time User: Mobile, 3G network, help-seeking behavior
  first_time_user:
    name: "First-Time User"
    description: |
      A new user on a mobile device with a slow 3G connection.
      Reads all text, hesitant with clicks, and seeks guidance.
    browser: "webkit"  # Safari-like
    viewport:
      width: 375
      height: 812  # iPhone X dimensions
    network:
      speed: "slow_3g"
      latency: 400
      bandwidth: 750  # 750 Kbps
    behaviors:
      - "help_seeking"
      - "reads_all_text"
      - "hesitant_clicks"
      - "needs_guidance"
      - "slow_pace"
    interactions:
      mode: "touch"
      pace: "slow"
      navigation: "tap"
      selection: "tap_and_hold"

  # Accessibility User: Screen reader, keyboard-only navigation
  accessibility_user:
    name: "Accessibility User"
    description: |
      A user relying on screen reader and keyboard-only navigation.
      Requires proper ARIA labels and focus management.
    browser: "firefox"
    viewport:
      width: 1280
      height: 800
    network:
      speed: "fast"
      latency: 10
      bandwidth: 100000
    behaviors:
      - "screen_reader"
      - "keyboard_only"
      - "relies_on_aria"
      - "focus_order_critical"
      - "high_contrast"
    interactions:
      mode: "keyboard_only"
      pace: "methodical"
      navigation: "tab_and_arrows"
      selection: "enter_and_space"
    screen_reader_type: "nvda"
    accessibility_features:
      reduced_motion: true
      high_contrast: true
      forced_colors: "active"
